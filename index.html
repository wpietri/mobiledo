<!DOCTYPE html>
<html>
<head>
    <title>MobileDo</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf8"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <script src="enyo/enyo.js"></script>
    <script>enyo.depends(
            // include support libraries
            "$lib/layout",
            "$lib/onyx"//,
            // include application sources
//            "css",
//            "models",
//            "controllers",
//            "views",
//            "apps",
            // include our default entry point
//            "start.js"
    );
    </script>
    <script>
        enyo.kind({
            name: "MobileDo.MainView",
            kind: "FittableRows",
            fit: true,
            components: [{
                name: "toolbar",
                kind: "onyx.Toolbar",
                components: [{content: "MobileDo"}]

            }, {
                name: "repeater",
                kind: "Repeater", onSetupItem: "setupItem",
                components: [{
                    name: "item",
                    components: [
                        {tag: "input", name: "checked"},
                        {tag: "span", content: " "},
                        {tag: "span", name: "name"}
                    ]
                }]
            }, {
                kind: "onyx.Toolbar",
                components: []
            }],
            create: function() { this.inherited(arguments); this.$.repeater.setCount(this.todos.length); },
            setupItem: function(inSender, inEvent) {
                var index = inEvent.index;
                var item = inEvent.item;
                var todo = this.todos[index];
                item.$.checked.setAttribute("type","checkbox");
                item.$.checked.setAttribute("checked",todo.checked);
                item.$.name.setContent(todo.name);
            },
            todos: [{checked:true, name: "work hard"}, {checked:false, name: "drink beer"}]
        });


        enyo.kind({
            name: "MobileDo.Application",
            kind: "enyo.Application",
            components: [],
            view: "MobileDo.MainView",
            handlers: {
            }
        });
        enyo.ready(function () {
            new MobileDo.Application({name: "app"});
        });



    </script>

</head>
<body>
<p>broken!</p>

</body>
</html>
